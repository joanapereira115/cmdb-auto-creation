@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix : <http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#> .
@base <http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb> .

<http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#> rdf:type owl:Ontology .

#################################################################
#    Classes
#################################################################

###  http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#ConfigurationItem
:ConfigurationItem rdf:type owl:Class ;
    rdfs:label "Configuration Item" ;
    rdfs:comment "Represents an organization's infrastructure component." .

###  http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#Relationship
:Relationship rdf:type owl:Class ;
    rdfs:label "Relationship" ;
    rdfs:comment "Represents the relationship between two organization's infrastructure components." .

###  http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#ConfigurationItemType
:ConfigurationItemType rdf:type owl:Class ;
    rdfs:label "Configuration Item Type" ;
    rdfs:comment "Represents the type of a configuration item." .

###  http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#RelationshipType
:RelationshipType rdf:type owl:Class ;
    rdfs:label "Relationship Type" ;
    rdfs:comment "Represents the type of a relationship." .

###  http://www.semanticweb.org/cmdb_auto_creation/2020/cmdb#Attribute
:Attribute rdf:type owl:Class ;
    rdfs:label "Attribute" ;
    rdfs:comment "Represents an attribute of a configuration item or relationship." .

#################################################################
#    Data Properties
#################################################################

:uuid rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ;
    rdfs:range xsd:string ;
    rdfs:comment "The universally unique identifier (128-bit number) assigned to the item.".

:serial_number rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ;
    rdfs:range xsd:string ;
    rdfs:comment "The manufacturer-allocated number used to identify the item.".

:name rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ,
                :ConfigurationItemType ,
                :RelationshipType ,
                :Attribute ; 
    rdfs:range xsd:string ;
    rdfs:comment "The label by which the item is known.".

:description rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ;
    rdfs:range xsd:string ;
    rdfs:comment "The textual description of the item.".

:cmdb_status rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ;
    rdfs:range xsd:string ;
    rdfs:comment "The current status value for the operational condition of the item.".

:mac_address rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ;
    rdfs:range xsd:string ;
    rdfs:comment "The media access control address assigned to the item.".

:value rdf:type owl:DatatypeProperty ;
    rdfs:domain :Attribute ; 
    rdfs:range xsd:string ;
    rdfs:comment "The value of the attribute.".

:has_ipv4 rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ; 
    rdfs:range xsd:string ;
    rdfs:comment "The associated IPv4 address.".

:has_ipv6 rdf:type owl:DatatypeProperty ;
    rdfs:domain :ConfigurationItem ; 
    rdfs:range xsd:string ;
    rdfs:comment "The associated IPv6 address.".

#################################################################
#    Object Properties
#################################################################

:has_ci_type rdf:type owl:ObjectProperty ;
    rdfs:domain :ConfigurationItem ;
    rdfs:range :ConfigurationItemType .

:has_rel_type rdf:type owl:ObjectProperty ;
    rdfs:domain :Relationship ;
    rdfs:range :RelationshipType .

:has_source rdf:type owl:ObjectProperty ;
    rdfs:domain :Relationship ;
    rdfs:range [rdf:type owl:Restriction;
                owl:onProperty :has_source;
                owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger;
                owl:onClass :ConfigurationItem ] .

:has_target rdf:type owl:ObjectProperty ;
    rdfs:domain :Relationship ;
    rdfs:range [rdf:type owl:Restriction;
                owl:onProperty :has_target;
                owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger;
                owl:onClass :ConfigurationItem ] .

:has_attribute rdf:type owl:ObjectProperty ;
    rdfs:domain :Relationship , 
                :ConfigurationItem ;
    rdfs:range :Attribute .

#################################################################
#    Instances
#################################################################

:macbook rdf:type :ConfigurationItem .
:macbook :name "Macbook pro de Joana" .

:pc rdf:type :ConfigurationItemType .
:pc :name "Portable Computer" .

:macbook :has_ci_type :pc .

:meo_router rdf:type :ConfigurationItem .
:meo_router :name "MEO router" .

:router rdf:type :ConfigurationItemType .
:router :name "Router" .

:meo_router :has_ci_type :router .

:mac_router rdf:type :Relationship .
:mac_router :has_source :macbook .
:mac_router :has_target :meo_router .

:net rdf:type :RelationshipType .
:net :name "Network connection" .

:mac_router :has_rel_type :net .

:apple rdf:type :Attribute .
:apple :name "Vendor" .
:apple :value "Apple" .

:macbook :has_attribute :apple .

:macbook :has_ipv4 "192.168.1.70" .
:macbook :has_ipv4 "10.10.1.3" .

:speed rdf:type :Attribute .
:speed :name "Speed" .
:speed :value "100 mbps" .

:mac_router :has_attribute :speed .